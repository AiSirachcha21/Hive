@using Hive.Client.Shared.Store.OrganizationSettings
@using Hive.Shared.Users

@inherits Fluxor.Blazor.Web.Components.FluxorComponent

@if (IsLoading)
{
    <MudProgressCircular Indeterminate="true" />
}
else
{
    <MudToolBar Dense="true" Class="mb-8">
        <MudAutocomplete T="UserViewModel"
                     ResetValueOnEmptyText="true"
                     Label="User Network Search"
                     @bind-Value="_searchedUserId"
                     SearchFunc="GetNetworkUsers"
                     Variant="Variant.Outlined"
                     ToStringFunc="@((e)=>$"{e.FirstName} {e.LastName}")" />
        <MudButton StartIcon="@Icons.Filled.PersonAdd" OnClick="OnAddUser">Add User</MudButton>
    </MudToolBar>
    <MudTable Items="@Users" Loading="IsLoading">
        <HeaderContent>
            <MudTh>First Name</MudTh>
            <MudTh>Last Name</MudTh>
            <MudTh>Email</MudTh>
        </HeaderContent>
        <RowTemplate>
            <MudTd DataLabel="FirstName">@context.FirstName</MudTd>
            <MudTd DataLabel="LastName">@context.LastName</MudTd>
            <MudTd DataLabel="Email">@context.Email</MudTd>
        </RowTemplate>
        <PagerContent>
            <MudTablePager />
        </PagerContent>
    </MudTable>
}




