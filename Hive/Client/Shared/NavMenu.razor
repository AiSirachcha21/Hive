@using Hive.Client.Shared.Constants
<style>
    .Nav-Menu-Top {
        height: 80%;
    }

    .Nav-Menu-Bottom {
        height: 20%;
        display: flex;
        flex-direction: column;
        justify-content: flex-end;
    }

    .mud-nav-link.active {
        background: #F2994A;
    }

    .mud-button.org-navlink {
        justify-content: flex-start;
        padding-left: 2rem;
        font-weight: 600;
        font-size: 1rem;
    }

        .mud-button.org-navlink[data-active],
        .mud-button.org-navlink[data-active]:hover {
            background-color: @HiveColors.Orange;
            color: @HiveColors.White;
        }

        .mud-button.org-navlink:hover {
            background-color: @Colors.Orange.Lighten5;
        }
</style>

<AuthorizeView>
    <Authorized>
        <MudDrawer @bind-Open="@(DrawerOpen)"
                   ClipMode="DrawerClipMode.Always"
                   Elevation="2"
                   Variant="DrawerVariant.Mini"
                   Class="d-flex flex-col justify-between">
            <MudNavMenu>
                @foreach (var org in Organizations)
                {
                    <MudButton DisableElevation="true"
                           Color="@(Color.Surface)"
                           Style="text-transform:capitalize"
                           FullWidth="true"
                           Class="org-navlink"
                           data-active="@(org.Id == ActiveItemId)"
                           OnClick=@(()=>NavigateToOrganizationPage(org.Name))>
                        @org.Name
                    </MudButton>
                }


            </MudNavMenu>
            <MudSpacer />
            <MudNavMenu>
                <MudNavLink Icon="@Icons.Filled.Add"
                            Color="@Color.Primary"
                            IconColor="@Color.Primary">
                    Create an Organization
                </MudNavLink>
                @if (ShouldCollapse())
                {
                    <MudNavLink Icon="@(DrawerOpen ? Icons.Filled.ArrowLeft : Icons.Filled.ArrowRight)"
                            Color="@Color.Primary"
                            IconColor="@Color.Primary"
                            OnClick="OnExpansionToggleClicked"
                            Style="color:#F2994A">
                        Collapse
                    </MudNavLink>
                }

            </MudNavMenu>
        </MudDrawer>
    </Authorized>
</AuthorizeView>
